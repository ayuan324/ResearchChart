<html class=""><head>


  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
      window.FontAwesomeConfig = {
          autoReplaceSvg: 'nest', // Options: 'nest', 'remove', 'replace'
      };
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<style>
  * { font-family: 'Inter', sans-serif;
  }

  ::-webkit-scrollbar {
    display: none;
  }
</style>


<style>
  .highlighted-section {
    outline: 2px solid #3F20FB;
    background-color: rgba(63, 32, 251, 0.1);
  }

  .edit-button {
    position: absolute;
    z-index: 1000;
  }
</style>


<style>
   :root {
          /* Base colors */
          --color-base: #ffffff;
          --color-base-50: #f9fafb;
          --color-base-100: #f3f4f6;
          --color-base-200: #e5e7eb;
          --color-base-300: #d1d5db;
          --color-base-400: #9ca3af;
          --color-base-500: #6b7280;
          --color-base-600: #4b5563;
          --color-base-700: #374151;
          --color-base-800: #1f2937;
          --color-base-900: #111827;
          --color-base-content: #1f2937;

          /* Primary colors */
          --color-primary: #3b82f6;
          --color-primary-50: #eff6ff;
          --color-primary-100: #dbeafe;
          --color-primary-200: #bfdbfe;
          --color-primary-300: #93c5fd;
          --color-primary-400: #60a5fa;
          --color-primary-500: #3b82f6;
          --color-primary-600: #2563eb;
          --color-primary-700: #1d4ed8;
          --color-primary-800: #1e40af;
          --color-primary-900: #1e3a8a;
          --color-primary-focus: #2563eb;
          --color-primary-content: #ffffff;

          /* Secondary colors */
          --color-secondary: #8b5cf6;
          --color-secondary-50: #f5f3ff;
          --color-secondary-100: #ede9fe;
          --color-secondary-200: #ddd6fe;
          --color-secondary-300: #c4b5fd;
          --color-secondary-400: #a78bfa;
          --color-secondary-500: #8b5cf6;
          --color-secondary-600: #7c3aed;
          --color-secondary-700: #6d28d9;
          --color-secondary-800: #5b21b6;
          --color-secondary-900: #4c1d95;
          --color-secondary-focus: #7c3aed;
          --color-secondary-content: #ffffff;

          /* Accent colors */
          --color-accent: #f472b6;
          --color-accent-50: #fdf2f8;
          --color-accent-100: #fce7f3;
          --color-accent-200: #fbcfe8;
          --color-accent-300: #f9a8d4;
          --color-accent-400: #f472b6;
          --color-accent-500: #ec4899;
          --color-accent-600: #db2777;
          --color-accent-700: #be185d;
          --color-accent-800: #9d174d;
          --color-accent-900: #831843;
          --color-accent-focus: #db2777;
          --color-accent-content: #ffffff;

          /* Neutral colors */
          --color-neutral: #6b7280;
          --color-neutral-50: #f9fafb;
          --color-neutral-100: #f3f4f6;
          --color-neutral-200: #e5e7eb;
          --color-neutral-300: #d1d5db;
          --color-neutral-400: #9ca3af;
          --color-neutral-500: #6b7280;
          --color-neutral-600: #4b5563;
          --color-neutral-700: #374151;
          --color-neutral-800: #1f2937;
          --color-neutral-900: #111827;
          --color-neutral-focus: #4b5563;
          --color-neutral-content: #ffffff;

          /* Info colors */
          --color-info: #3b82f6;
          --color-info-50: #eff6ff;
          --color-info-100: #dbeafe;
          --color-info-200: #bfdbfe;
          --color-info-300: #93c5fd;
          --color-info-400: #60a5fa;
          --color-info-500: #3b82f6;
          --color-info-600: #2563eb;
          --color-info-700: #1d4ed8;
          --color-info-800: #1e40af;
          --color-info-900: #1e3a8a;
          --color-info-focus: #2563eb;
          --color-info-content: #ffffff;

          /* Success colors */
          --color-success: #10b981;
          --color-success-50: #ecfdf5;
          --color-success-100: #d1fae5;
          --color-success-200: #a7f3d0;
          --color-success-300: #6ee7b7;
          --color-success-400: #34d399;
          --color-success-500: #10b981;
          --color-success-600: #059669;
          --color-success-700: #047857;
          --color-success-800: #065f46;
          --color-success-900: #064e3b;
          --color-success-focus: #059669;
          --color-success-content: #ffffff;

          /* Warning colors */
          --color-warning: #f59e0b;
          --color-warning-50: #fffbeb;
          --color-warning-100: #fef3c7;
          --color-warning-200: #fde68a;
          --color-warning-300: #fcd34d;
          --color-warning-400: #fbbf24;
          --color-warning-500: #f59e0b;
          --color-warning-600: #d97706;
          --color-warning-700: #b45309;
          --color-warning-800: #92400e;
          --color-warning-900: #78350f;
          --color-warning-focus: #d97706;
          --color-warning-content: #ffffff;

          /* Error colors */
          --color-error: #ef4444;
          --color-error-50: #fef2f2;
          --color-error-100: #fee2e2;
          --color-error-200: #fecaca;
          --color-error-300: #fca5a5;
          --color-error-400: #f87171;
          --color-error-500: #ef4444;
          --color-error-600: #dc2626;
          --color-error-700: #b91c1c;
          --color-error-800: #991b1b;
          --color-error-900: #7f1d1d;
          --color-error-focus: #dc2626;
          --color-error-content: #ffffff;
        }
</style>


<style>
/* Dark theme */
        .dark {
          /* Base colors */
          --color-base: #1f2937;
          --color-base-50: #111827;
          --color-base-100: #1f2937;
          --color-base-200: #374151;
          --color-base-300: #4b5563;
          --color-base-400: #6b7280;
          --color-base-500: #9ca3af;
          --color-base-600: #d1d5db;
          --color-base-700: #e5e7eb;
          --color-base-800: #f3f4f6;
          --color-base-900: #f9fafb;
          --color-base-content: #f9fafb;

          /* Primary colors */
          --color-primary: #60a5fa;
          --color-primary-50: #1e3a8a;
          --color-primary-100: #1e40af;
          --color-primary-200: #1d4ed8;
          --color-primary-300: #2563eb;
          --color-primary-400: #3b82f6;
          --color-primary-500: #60a5fa;
          --color-primary-600: #93c5fd;
          --color-primary-700: #bfdbfe;
          --color-primary-800: #dbeafe;
          --color-primary-900: #eff6ff;
          --color-primary-focus: #3b82f6;
          --color-primary-content: #1f2937;

          /* Secondary colors */
          --color-secondary: #a78bfa;
          --color-secondary-50: #4c1d95;
          --color-secondary-100: #5b21b6;
          --color-secondary-200: #6d28d9;
          --color-secondary-300: #7c3aed;
          --color-secondary-400: #8b5cf6;
          --color-secondary-500: #a78bfa;
          --color-secondary-600: #c4b5fd;
          --color-secondary-700: #ddd6fe;
          --color-secondary-800: #ede9fe;
          --color-secondary-900: #f5f3ff;
          --color-secondary-focus: #8b5cf6;
          --color-secondary-content: #1f2937;

          /* Accent colors */
          --color-accent: #f472b6;
          --color-accent-50: #831843;
          --color-accent-100: #9d174d;
          --color-accent-200: #be185d;
          --color-accent-300: #db2777;
          --color-accent-400: #ec4899;
          --color-accent-500: #f472b6;
          --color-accent-600: #f9a8d4;
          --color-accent-700: #fbcfe8;
          --color-accent-800: #fce7f3;
          --color-accent-900: #fdf2f8;
          --color-accent-focus: #ec4899;
          --color-accent-content: #1f2937;

          /* Neutral colors remain the same as light theme */

          /* Info colors */
          --color-info: #60a5fa;
          --color-info-50: #1e3a8a;
          --color-info-100: #1e40af;
          --color-info-200: #1d4ed8;
          --color-info-300: #2563eb;
          --color-info-400: #3b82f6;
          --color-info-500: #60a5fa;
          --color-info-600: #93c5fd;
          --color-info-700: #bfdbfe;
          --color-info-800: #dbeafe;
          --color-info-900: #eff6ff;
          --color-info-focus: #3b82f6;
          --color-info-content: #1f2937;

          /* Success colors */
          --color-success: #34d399;
          --color-success-50: #064e3b;
          --color-success-100: #065f46;
          --color-success-200: #047857;
          --color-success-300: #059669;
          --color-success-400: #10b981;
          --color-success-500: #34d399;
          --color-success-600: #6ee7b7;
          --color-success-700: #a7f3d0;
          --color-success-800: #d1fae5;
          --color-success-900: #ecfdf5;
          --color-success-focus: #10b981;
          --color-success-content: #1f2937;

          /* Warning colors */
          --color-warning: #fbbf24;
          --color-warning-50: #78350f;
          --color-warning-100: #92400e;
          --color-warning-200: #b45309;
          --color-warning-300: #d97706;
          --color-warning-400: #f59e0b;
          --color-warning-500: #fbbf24;
          --color-warning-600: #fcd34d;
          --color-warning-700: #fde68a;
          --color-warning-800: #fef3c7;
          --color-warning-900: #fffbeb;
          --color-warning-focus: #f59e0b;
          --color-warning-content: #1f2937;

          /* Error colors */
          --color-error: #f87171;
          --color-error-50: #7f1d1d;
          --color-error-100: #991b1b;
          --color-error-200: #b91c1c;
          --color-error-300: #dc2626;
          --color-error-400: #ef4444;
          --color-error-500: #f87171;
          --color-error-600: #fca5a5;
          --color-error-700: #fecaca;
          --color-error-800: #fee2e2;
          --color-error-900: #fef2f2;
          --color-error-focus: #ef4444;
          --color-error-content: #1f2937;
        }
</style>


  <script>tailwind.config = {
  "theme": {
    "extend": {
      "colors": {
        "transparent": "transparent",
        "current": "currentColor",
        "black": "#000000",
        "white": "#ffffff",
        "gray": {
          "50": "#f9fafb",
          "100": "#f3f4f6",
          "200": "#e5e7eb",
          "300": "#d1d5db",
          "400": "#9ca3af",
          "500": "#6b7280",
          "600": "#4b5563",
          "700": "#374151",
          "800": "#1f2937",
          "900": "#111827"
        },
        "red": {
          "50": "#fef2f2",
          "100": "#fee2e2",
          "200": "#fecaca",
          "300": "#fca5a5",
          "400": "#f87171",
          "500": "#ef4444",
          "600": "#dc2626",
          "700": "#b91c1c",
          "800": "#991b1b",
          "900": "#7f1d1d"
        },
        "yellow": {
          "50": "#fffbeb",
          "100": "#fef3c7",
          "200": "#fde68a",
          "300": "#fcd34d",
          "400": "#fbbf24",
          "500": "#f59e0b",
          "600": "#d97706",
          "700": "#b45309",
          "800": "#92400e",
          "900": "#78350f"
        },
        "green": {
          "50": "#ecfdf5",
          "100": "#d1fae5",
          "200": "#a7f3d0",
          "300": "#6ee7b7",
          "400": "#34d399",
          "500": "#10b981",
          "600": "#059669",
          "700": "#047857",
          "800": "#065f46",
          "900": "#064e3b"
        },
        "blue": {
          "50": "#eff6ff",
          "100": "#dbeafe",
          "200": "#bfdbfe",
          "300": "#93c5fd",
          "400": "#60a5fa",
          "500": "#3b82f6",
          "600": "#2563eb",
          "700": "#1d4ed8",
          "800": "#1e40af",
          "900": "#1e3a8a"
        },
        "indigo": {
          "50": "#eef2ff",
          "100": "#e0e7ff",
          "200": "#c7d2fe",
          "300": "#a5b4fc",
          "400": "#818cf8",
          "500": "#6366f1",
          "600": "#4f46e5",
          "700": "#4338ca",
          "800": "#3730a3",
          "900": "#312e81"
        },
        "purple": {
          "50": "#f5f3ff",
          "100": "#ede9fe",
          "200": "#ddd6fe",
          "300": "#c4b5fd",
          "400": "#a78bfa",
          "500": "#8b5cf6",
          "600": "#7c3aed",
          "700": "#6d28d9",
          "800": "#5b21b6",
          "900": "#4c1d95"
        },
        "pink": {
          "50": "#fdf2f8",
          "100": "#fce7f3",
          "200": "#fbcfe8",
          "300": "#f9a8d4",
          "400": "#f472b6",
          "500": "#ec4899",
          "600": "#db2777",
          "700": "#be185d",
          "800": "#9d174d",
          "900": "#831843"
        },
        "primary": {
          "50": "var(--color-primary-50)",
          "100": "var(--color-primary-100)",
          "200": "var(--color-primary-200)",
          "300": "var(--color-primary-300)",
          "400": "var(--color-primary-400)",
          "500": "var(--color-primary-500)",
          "600": "var(--color-primary-600)",
          "700": "var(--color-primary-700)",
          "800": "var(--color-primary-800)",
          "900": "var(--color-primary-900)",
          "DEFAULT": "var(--color-primary)",
          "focus": "var(--color-primary-focus)",
          "content": "var(--color-primary-content)"
        },
        "secondary": {
          "50": "var(--color-secondary-50)",
          "100": "var(--color-secondary-100)",
          "200": "var(--color-secondary-200)",
          "300": "var(--color-secondary-300)",
          "400": "var(--color-secondary-400)",
          "500": "var(--color-secondary-500)",
          "600": "var(--color-secondary-600)",
          "700": "var(--color-secondary-700)",
          "800": "var(--color-secondary-800)",
          "900": "var(--color-secondary-900)",
          "DEFAULT": "var(--color-secondary)",
          "focus": "var(--color-secondary-focus)",
          "content": "var(--color-secondary-content)"
        },
        "accent": {
          "50": "var(--color-accent-50)",
          "100": "var(--color-accent-100)",
          "200": "var(--color-accent-200)",
          "300": "var(--color-accent-300)",
          "400": "var(--color-accent-400)",
          "500": "var(--color-accent-500)",
          "600": "var(--color-accent-600)",
          "700": "var(--color-accent-700)",
          "800": "var(--color-accent-800)",
          "900": "var(--color-accent-900)",
          "DEFAULT": "var(--color-accent)",
          "focus": "var(--color-accent-focus)",
          "content": "var(--color-accent-content)"
        },
        "neutral": {
          "50": "var(--color-neutral-50)",
          "100": "var(--color-neutral-100)",
          "200": "var(--color-neutral-200)",
          "300": "var(--color-neutral-300)",
          "400": "var(--color-neutral-400)",
          "500": "var(--color-neutral-500)",
          "600": "var(--color-neutral-600)",
          "700": "var(--color-neutral-700)",
          "800": "var(--color-neutral-800)",
          "900": "var(--color-neutral-900)",
          "DEFAULT": "var(--color-neutral)",
          "focus": "var(--color-neutral-focus)",
          "content": "var(--color-neutral-content)"
        },
        "info": {
          "50": "var(--color-info-50)",
          "100": "var(--color-info-100)",
          "200": "var(--color-info-200)",
          "300": "var(--color-info-300)",
          "400": "var(--color-info-400)",
          "500": "var(--color-info-500)",
          "600": "var(--color-info-600)",
          "700": "var(--color-info-700)",
          "800": "var(--color-info-800)",
          "900": "var(--color-info-900)",
          "DEFAULT": "var(--color-info)",
          "focus": "var(--color-info-focus)",
          "content": "var(--color-info-content)"
        },
        "success": {
          "50": "var(--color-success-50)",
          "100": "var(--color-success-100)",
          "200": "var(--color-success-200)",
          "300": "var(--color-success-300)",
          "400": "var(--color-success-400)",
          "500": "var(--color-success-500)",
          "600": "var(--color-success-600)",
          "700": "var(--color-success-700)",
          "800": "var(--color-success-800)",
          "900": "var(--color-success-900)",
          "DEFAULT": "var(--color-success)",
          "focus": "var(--color-success-focus)",
          "content": "var(--color-success-content)"
        },
        "warning": {
          "50": "var(--color-warning-50)",
          "100": "var(--color-warning-100)",
          "200": "var(--color-warning-200)",
          "300": "var(--color-warning-300)",
          "400": "var(--color-warning-400)",
          "500": "var(--color-warning-500)",
          "600": "var(--color-warning-600)",
          "700": "var(--color-warning-700)",
          "800": "var(--color-warning-800)",
          "900": "var(--color-warning-900)",
          "DEFAULT": "var(--color-warning)",
          "focus": "var(--color-warning-focus)",
          "content": "var(--color-warning-content)"
        },
        "error": {
          "50": "var(--color-error-50)",
          "100": "var(--color-error-100)",
          "200": "var(--color-error-200)",
          "300": "var(--color-error-300)",
          "400": "var(--color-error-400)",
          "500": "var(--color-error-500)",
          "600": "var(--color-error-600)",
          "700": "var(--color-error-700)",
          "800": "var(--color-error-800)",
          "900": "var(--color-error-900)",
          "DEFAULT": "var(--color-error)",
          "focus": "var(--color-error-focus)",
          "content": "var(--color-error-content)"
        },
        "danger": {
          "50": "var(--color-error-50)",
          "100": "var(--color-error-100)",
          "200": "var(--color-error-200)",
          "300": "var(--color-error-300)",
          "400": "var(--color-error-400)",
          "500": "var(--color-error-500)",
          "600": "var(--color-error-600)",
          "700": "var(--color-error-700)",
          "800": "var(--color-error-800)",
          "900": "var(--color-error-900)",
          "DEFAULT": "var(--color-error)",
          "focus": "var(--color-error-focus)",
          "content": "var(--color-error-content)"
        },
        "failure": {
          "50": "var(--color-error-50)",
          "100": "var(--color-error-100)",
          "200": "var(--color-error-200)",
          "300": "var(--color-error-300)",
          "400": "var(--color-error-400)",
          "500": "var(--color-error-500)",
          "600": "var(--color-error-600)",
          "700": "var(--color-error-700)",
          "800": "var(--color-error-800)",
          "900": "var(--color-error-900)",
          "DEFAULT": "var(--color-error)",
          "focus": "var(--color-error-focus)",
          "content": "var(--color-error-content)"
        }
      },
      "fontFamily": {}
    }
  },
  "variants": {
    "extend": {
      "backgroundColor": [
        "active",
        "group-hover"
      ],
      "textColor": [
        "active",
        "group-hover"
      ]
    }
  },
  "plugins": []
};</script>

<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"><style>
  .highlighted-section {
    outline: 2px solid #3F20FB;
    background-color: rgba(63, 32, 251, 0.1);
  }

  .edit-button {
    position: absolute;
    z-index: 1000;
  }

  ::-webkit-scrollbar {
    display: none;
  }

  html, body {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  </style></head>

              <body class="h-full text-base-content">
                <div id="header" class="border-b bg-white">
  <div class="max-w-7xl mx-auto px-6 py-4">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div class="w-10 h-10 bg-neutral-800 rounded-lg flex items-center justify-center">
          <i class="fa-solid fa-chart-line text-white text-lg"></i>
        </div>
        <div>
          <h1 class="text-xl text-neutral-900">ChartGen AI</h1>
          <p class="text-sm text-neutral-500">Scientific Chart Generation Platform</p>
        </div>
      </div>
      <nav class="hidden md:flex items-center space-x-8">
        <span class="text-neutral-700 hover:text-neutral-900 cursor-pointer">Dashboard</span>
        <span class="text-neutral-700 hover:text-neutral-900 cursor-pointer">Projects</span>
        <span class="text-neutral-700 hover:text-neutral-900 cursor-pointer">Templates</span>
        <span class="text-neutral-700 hover:text-neutral-900 cursor-pointer">Help</span>
      </nav>
      <div class="flex items-center space-x-4">
        <button class="p-2 text-neutral-500 hover:text-neutral-700">
          <i class="fa-regular fa-bell text-lg"></i>
        </button>
        <img src="https://api.dicebear.com/7.x/notionists/svg?scale=200&amp;seed=67890" alt="User Avatar" class="w-8 h-8 rounded-full">
      </div>
    </div>
  </div>
</div>

<main id="main-content" class="bg-neutral-50">
  <section id="breadcrumb-section" class="bg-white border-b">
    <div class="max-w-7xl mx-auto px-6 py-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-2 text-sm">
          <span class="text-neutral-500 hover:text-neutral-700 cursor-pointer">Dashboard</span>
          <i class="fa-solid fa-chevron-right text-neutral-400 text-xs"></i>
          <span class="text-neutral-500 hover:text-neutral-700 cursor-pointer">New Project</span>
          <i class="fa-solid fa-chevron-right text-neutral-400 text-xs"></i>
          <span class="text-neutral-500 hover:text-neutral-700 cursor-pointer">Document Analysis</span>
          <i class="fa-solid fa-chevron-right text-neutral-400 text-xs"></i>
          <span class="text-neutral-900">Generated Charts</span>
        </div>
        <div class="flex items-center space-x-4">
          <span class="inline-flex items-center px-3 py-1 rounded-full text-xs bg-neutral-100 text-neutral-800">
            <i class="fa-solid fa-check mr-1"></i>
            Charts Generated
          </span>
          <button class="text-neutral-600 hover:text-neutral-900 text-sm">
            <i class="fa-solid fa-download mr-1"></i>
            Export All
          </button>
        </div>
      </div>
    </div>
  </section>

  <section id="project-header-section" class="bg-white border-b">
    <div class="max-w-7xl mx-auto px-6 py-6">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-3xl text-neutral-900 mb-2">Generated Chart Collection</h1>
          <p class="text-neutral-600">Climate Change Impact on Agricultural Productivity • 3 Charts Generated</p>
        </div>
        <div class="flex items-center space-x-4">
          <button class="px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors">
            <i class="fa-solid fa-arrow-left mr-2"></i>
            Back to Analysis
          </button>
          <button class="px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors">
            <i class="fa-solid fa-edit mr-2"></i>
            Modify Charts
          </button>
          <button class="bg-neutral-900 text-white px-4 py-2 rounded-lg hover:bg-neutral-800 transition-colors">
            <i class="fa-solid fa-download mr-2"></i>
            Download Package
          </button>
        </div>
      </div>
    </div>
  </section>


  <section id="chart-1-section" class="py-8">
    <div class="max-w-7xl mx-auto px-6">
      <div class="bg-white rounded-xl border shadow-sm">
        <div class="border-b p-6">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
              <div class="w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center">
                <i class="fa-solid fa-chart-bar text-neutral-600"></i>
              </div>
              <div>
                <h2 class="text-2xl text-neutral-900">Regional Climate Data Comparison</h2>
                <p class="text-sm text-neutral-600 mt-1">Temperature changes and precipitation patterns across agricultural regions</p>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="text-xs bg-neutral-100 text-neutral-700 px-3 py-1 rounded-full">Based on Table 1</span>
              <button class="p-2 text-neutral-600 hover:text-neutral-900 border border-neutral-300 rounded-lg">
                <i class="fa-solid fa-expand"></i>
              </button>
              <button class="p-2 text-neutral-600 hover:text-neutral-900 border border-neutral-300 rounded-lg">
                <i class="fa-solid fa-download"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="p-8">
          <div class="grid grid-cols-2 gap-12">
            <div>
              <h3 class="text-lg text-neutral-900 mb-6">Generated Chart</h3>
              <div class="bg-neutral-50 rounded-xl p-8 h-96 flex items-center justify-center border">
                <div class="text-center">
                  <div class="w-full h-80 bg-neutral-200 rounded-lg mb-4 flex items-center justify-center">
                    <div class="text-neutral-600">
                      <i class="fa-solid fa-chart-bar text-4xl mb-4"></i>
                      <p class="text-lg">Regional Climate Data Bar Chart</p>
                      <p class="text-sm mt-2">Temperature &amp; Precipitation Comparison</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="mt-6 flex items-center justify-between">
                <div class="flex items-center space-x-4">
                  <button class="px-4 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors text-sm">
                    <i class="fa-solid fa-download mr-2"></i>
                    Download PNG
                  </button>
                  <button class="px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors text-sm">
                    <i class="fa-solid fa-file-code mr-2"></i>
                    Get SVG
                  </button>
                  <button class="px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors text-sm">
                    <i class="fa-solid fa-edit mr-2"></i>
                    Customize
                  </button>
                </div>
                <div class="flex items-center space-x-2 text-xs text-neutral-500">
                  <i class="fa-solid fa-palette"></i>
                  <span>Professional theme applied</span>
                </div>
              </div>
            </div>

            <div>
              <h3 class="text-lg text-neutral-900 mb-6">Source Data Table</h3>
              <div class="border border-neutral-200 rounded-xl overflow-hidden">
                <div class="bg-neutral-50 p-4 border-b">
                  <h4 class="text-sm text-neutral-900">Table 1: Regional Climate Data (2015-2024)</h4>
                </div>
                <div class="overflow-x-auto">
                  <table class="w-full text-sm">
                    <thead class="bg-neutral-50">
                      <tr class="border-b border-neutral-200">
                        <th class="text-left py-3 px-4 text-neutral-900">Region</th>
                        <th class="text-right py-3 px-4 text-neutral-900">Avg Temp (°C)</th>
                        <th class="text-right py-3 px-4 text-neutral-900">Temp Change</th>
                        <th class="text-right py-3 px-4 text-neutral-900">Precipitation (mm)</th>
                        <th class="text-right py-3 px-4 text-neutral-900">Rainfall Change</th>
                      </tr>
                    </thead>
                    <tbody class="text-neutral-700">
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Midwest Plains</td>
                        <td class="text-right py-3 px-4">12.4</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+2.1°C</td>
                        <td class="text-right py-3 px-4">850</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-5.2%</td>
                      </tr>
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Great Lakes</td>
                        <td class="text-right py-3 px-4">9.8</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+1.8°C</td>
                        <td class="text-right py-3 px-4">920</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+3.1%</td>
                      </tr>
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Southeast</td>
                        <td class="text-right py-3 px-4">18.2</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+2.5°C</td>
                        <td class="text-right py-3 px-4">1240</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-8.7%</td>
                      </tr>
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Pacific Northwest</td>
                        <td class="text-right py-3 px-4">11.1</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+1.6°C</td>
                        <td class="text-right py-3 px-4">1580</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-2.3%</td>
                      </tr>
                      <tr>
                        <td class="py-3 px-4">California Central</td>
                        <td class="text-right py-3 px-4">16.7</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+2.9°C</td>
                        <td class="text-right py-3 px-4">380</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-12.4%</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <div class="mt-6 bg-neutral-50 rounded-lg p-4">
                <h5 class="text-sm text-neutral-900 mb-3">Chart Insights</h5>
                <ul class="space-y-2 text-sm text-neutral-700">
                  <li class="flex items-start space-x-2">
                    <i class="fa-solid fa-circle text-neutral-400 text-xs mt-2"></i>
                    <span>California shows the highest temperature increase at +2.9°C</span>
                  </li>
                  <li class="flex items-start space-x-2">
                    <i class="fa-solid fa-circle text-neutral-400 text-xs mt-2"></i>
                    <span>Pacific Northwest has the highest precipitation at 1580mm</span>
                  </li>
                  <li class="flex items-start space-x-2">
                    <i class="fa-solid fa-circle text-neutral-400 text-xs mt-2"></i>
                    <span>Most regions show precipitation decline except Great Lakes</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="chart-2-section" class="py-8">
    <div class="max-w-7xl mx-auto px-6">
      <div class="bg-white rounded-xl border shadow-sm">
        <div class="border-b p-6">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
              <div class="w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center">
                <i class="fa-solid fa-chart-line text-neutral-600"></i>
              </div>
              <div>
                <h2 class="text-2xl text-neutral-900">Crop Yield Change Analysis</h2>
                <p class="text-sm text-neutral-600 mt-1">Productivity trends and climate sensitivity by crop type</p>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="text-xs bg-neutral-100 text-neutral-700 px-3 py-1 rounded-full">Based on Table 2</span>
              <button class="p-2 text-neutral-600 hover:text-neutral-900 border border-neutral-300 rounded-lg">
                <i class="fa-solid fa-expand"></i>
              </button>
              <button class="p-2 text-neutral-600 hover:text-neutral-900 border border-neutral-300 rounded-lg">
                <i class="fa-solid fa-download"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="p-8">
          <div class="grid grid-cols-2 gap-12">
            <div>
              <h3 class="text-lg text-neutral-900 mb-6">Generated Chart</h3>
              <div class="bg-neutral-50 rounded-xl p-8 h-96 flex items-center justify-center border">
                <div class="text-center">
                  <div class="w-full h-80 bg-neutral-200 rounded-lg mb-4 flex items-center justify-center">
                    <div class="text-neutral-600">
                      <i class="fa-solid fa-chart-line text-4xl mb-4"></i>
                      <p class="text-lg">Crop Yield Trend Line Chart</p>
                      <p class="text-sm mt-2">2015 vs 2024 Productivity Comparison</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="mt-6 flex items-center justify-between">
                <div class="flex items-center space-x-4">
                  <button class="px-4 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors text-sm">
                    <i class="fa-solid fa-download mr-2"></i>
                    Download PNG
                  </button>
                  <button class="px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors text-sm">
                    <i class="fa-solid fa-file-code mr-2"></i>
                    Get SVG
                  </button>
                  <button class="px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors text-sm">
                    <i class="fa-solid fa-edit mr-2"></i>
                    Customize
                  </button>
                </div>
                <div class="flex items-center space-x-2 text-xs text-neutral-500">
                  <i class="fa-solid fa-palette"></i>
                  <span>Scientific theme applied</span>
                </div>
              </div>
            </div>

            <div>
              <h3 class="text-lg text-neutral-900 mb-6">Source Data Table</h3>
              <div class="border border-neutral-200 rounded-xl overflow-hidden">
                <div class="bg-neutral-50 p-4 border-b">
                  <h4 class="text-sm text-neutral-900">Table 2: Crop Yield Changes by Type</h4>
                </div>
                <div class="overflow-x-auto">
                  <table class="w-full text-sm">
                    <thead class="bg-neutral-50">
                      <tr class="border-b border-neutral-200">
                        <th class="text-left py-3 px-4 text-neutral-900">Crop Type</th>
                        <th class="text-right py-3 px-4 text-neutral-900">2015 (t/ha)</th>
                        <th class="text-right py-3 px-4 text-neutral-900">2024 (t/ha)</th>
                        <th class="text-right py-3 px-4 text-neutral-900">% Change</th>
                        <th class="text-right py-3 px-4 text-neutral-900">Sensitivity</th>
                      </tr>
                    </thead>
                    <tbody class="text-neutral-700">
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Wheat</td>
                        <td class="text-right py-3 px-4">3.2</td>
                        <td class="text-right py-3 px-4">2.8</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-12.5%</td>
                        <td class="text-right py-3 px-4">High</td>
                      </tr>
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Corn</td>
                        <td class="text-right py-3 px-4">9.8</td>
                        <td class="text-right py-3 px-4">9.2</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-6.1%</td>
                        <td class="text-right py-3 px-4">Medium</td>
                      </tr>
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Soybeans</td>
                        <td class="text-right py-3 px-4">2.9</td>
                        <td class="text-right py-3 px-4">3.1</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+6.9%</td>
                        <td class="text-right py-3 px-4">Low</td>
                      </tr>
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Rice</td>
                        <td class="text-right py-3 px-4">7.1</td>
                        <td class="text-right py-3 px-4">6.4</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-9.9%</td>
                        <td class="text-right py-3 px-4">High</td>
                      </tr>
                      <tr>
                        <td class="py-3 px-4">Cotton</td>
                        <td class="text-right py-3 px-4">1.8</td>
                        <td class="text-right py-3 px-4">1.5</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-16.7%</td>
                        <td class="text-right py-3 px-4">Very High</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <div class="mt-6 bg-neutral-50 rounded-lg p-4">
                <h5 class="text-sm text-neutral-900 mb-3">Chart Insights</h5>
                <ul class="space-y-2 text-sm text-neutral-700">
                  <li class="flex items-start space-x-2">
                    <i class="fa-solid fa-circle text-neutral-400 text-xs mt-2"></i>
                    <span>Cotton shows the largest decline at -16.7%</span>
                  </li>
                  <li class="flex items-start space-x-2">
                    <i class="fa-solid fa-circle text-neutral-400 text-xs mt-2"></i>
                    <span>Soybeans are the only crop with positive growth</span>
                  </li>
                  <li class="flex items-start space-x-2">
                    <i class="fa-solid fa-circle text-neutral-400 text-xs mt-2"></i>
                    <span>Climate sensitivity correlates with yield decline</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="chart-3-section" class="py-8">
    <div class="max-w-7xl mx-auto px-6">
      <div class="bg-white rounded-xl border shadow-sm">
        <div class="border-b p-6">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
              <div class="w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center">
                <i class="fa-solid fa-chart-pie text-neutral-600"></i>
              </div>
              <div>
                <h2 class="text-2xl text-neutral-900">Seasonal Impact Heatmap</h2>
                <p class="text-sm text-neutral-600 mt-1">Temperature and precipitation effects across seasons</p>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="text-xs bg-neutral-100 text-neutral-700 px-3 py-1 rounded-full">Based on Table 3</span>
              <button class="p-2 text-neutral-600 hover:text-neutral-900 border border-neutral-300 rounded-lg">
                <i class="fa-solid fa-expand"></i>
              </button>
              <button class="p-2 text-neutral-600 hover:text-neutral-900 border border-neutral-300 rounded-lg">
                <i class="fa-solid fa-download"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="p-8">
          <div class="grid grid-cols-2 gap-12">
            <div>
              <h3 class="text-lg text-neutral-900 mb-6">Generated Chart</h3>
              <div class="bg-neutral-50 rounded-xl p-8 h-96 flex items-center justify-center border">
                <div class="text-center">
                  <div class="w-full h-80 bg-neutral-200 rounded-lg mb-4 flex items-center justify-center">
                    <div class="text-neutral-600">
                      <i class="fa-solid fa-th text-4xl mb-4"></i>
                      <p class="text-lg">Seasonal Impact Heatmap</p>
                      <p class="text-sm mt-2">Climate Effects by Season &amp; Factor</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="mt-6 flex items-center justify-between">
                <div class="flex items-center space-x-4">
                  <button class="px-4 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors text-sm">
                    <i class="fa-solid fa-download mr-2"></i>
                    Download PNG
                  </button>
                  <button class="px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors text-sm">
                    <i class="fa-solid fa-file-code mr-2"></i>
                    Get SVG
                  </button>
                  <button class="px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors text-sm">
                    <i class="fa-solid fa-edit mr-2"></i>
                    Customize
                  </button>
                </div>
                <div class="flex items-center space-x-2 text-xs text-neutral-500">
                  <i class="fa-solid fa-palette"></i>
                  <span>Heatmap theme applied</span>
                </div>
              </div>
            </div>

            <div>
              <h3 class="text-lg text-neutral-900 mb-6">Source Data Table</h3>
              <div class="border border-neutral-200 rounded-xl overflow-hidden">
                <div class="bg-neutral-50 p-4 border-b">
                  <h4 class="text-sm text-neutral-900">Table 3: Seasonal Impact Analysis</h4>
                </div>
                <div class="overflow-x-auto">
                  <table class="w-full text-sm">
                    <thead class="bg-neutral-50">
                      <tr class="border-b border-neutral-200">
                        <th class="text-left py-3 px-4 text-neutral-900">Season</th>
                        <th class="text-right py-3 px-4 text-neutral-900">Temp Impact</th>
                        <th class="text-right py-3 px-4 text-neutral-900">Precip Impact</th>
                        <th class="text-right py-3 px-4 text-neutral-900">Yield Effect</th>
                        <th class="text-right py-3 px-4 text-neutral-900">Critical Crops</th>
                      </tr>
                    </thead>
                    <tbody class="text-neutral-700">
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Spring</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-8.2%</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+2.1%</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-6.8%</td>
                        <td class="text-right py-3 px-4">Wheat, Barley</td>
                      </tr>
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Summer</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-15.3%</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-4.7%</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-12.1%</td>
                        <td class="text-right py-3 px-4">Corn, Cotton</td>
                      </tr>
                      <tr class="border-b border-neutral-100">
                        <td class="py-3 px-4">Fall</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-3.4%</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+5.8%</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+1.2%</td>
                        <td class="text-right py-3 px-4">Soybeans, Rice</td>
                      </tr>
                      <tr>
                        <td class="py-3 px-4">Winter</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-2.1%</td>
                        <td class="text-right py-3 px-4 text-neutral-600">+1.9%</td>
                        <td class="text-right py-3 px-4 text-neutral-600">-0.3%</td>
                        <td class="text-right py-3 px-4">Winter Wheat</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <div class="mt-6 bg-neutral-50 rounded-lg p-4">
                <h5 class="text-sm text-neutral-900 mb-3">Chart Insights</h5>
                <ul class="space-y-2 text-sm text-neutral-700">
                  <li class="flex items-start space-x-2">
                    <i class="fa-solid fa-circle text-neutral-400 text-xs mt-2"></i>
                    <span>Summer shows most severe impact at -12.1%</span>
                  </li>
                  <li class="flex items-start space-x-2">
                    <i class="fa-solid fa-circle text-neutral-400 text-xs mt-2"></i>
                    <span>Fall is the only season with positive yield effects</span>
                  </li>
                  <li class="flex items-start space-x-2">
                    <i class="fa-solid fa-circle text-neutral-400 text-xs mt-2"></i>
                    <span>Temperature effects dominate over precipitation</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="export-options-section" class="py-8">
    <div class="max-w-7xl mx-auto px-6">
      <div class="bg-white rounded-xl border shadow-sm p-8">
        <div class="text-center mb-8">
          <h2 class="text-2xl text-neutral-900 mb-4">Export Your Charts</h2>
          <p class="text-neutral-600">Download individual charts or create a comprehensive report package</p>
        </div>

        <div class="grid grid-cols-3 gap-8 mb-8">
          <div class="text-center">
            <div class="w-16 h-16 bg-neutral-100 rounded-xl flex items-center justify-center mx-auto mb-4">
              <i class="fa-solid fa-file-image text-neutral-600 text-2xl"></i>
            </div>
            <h3 class="text-lg text-neutral-900 mb-2">High-Resolution Images</h3>
            <p class="text-sm text-neutral-600 mb-4">PNG, JPG formats up to 4K resolution</p>
            <button class="w-full px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors">
              <i class="fa-solid fa-download mr-2"></i>
              Download Images
            </button>
          </div>

          <div class="text-center">
            <div class="w-16 h-16 bg-neutral-100 rounded-xl flex items-center justify-center mx-auto mb-4">
              <i class="fa-solid fa-code text-neutral-600 text-2xl"></i>
            </div>
            <h3 class="text-lg text-neutral-900 mb-2">Vector Graphics</h3>
            <p class="text-sm text-neutral-600 mb-4">SVG files for scalable publication use</p>
            <button class="w-full px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors">
              <i class="fa-solid fa-download mr-2"></i>
              Download SVG
            </button>
          </div>

          <div class="text-center">
            <div class="w-16 h-16 bg-neutral-100 rounded-xl flex items-center justify-center mx-auto mb-4">
              <i class="fa-solid fa-file-pdf text-neutral-600 text-2xl"></i>
            </div>
            <h3 class="text-lg text-neutral-900 mb-2">Complete Report</h3>
            <p class="text-sm text-neutral-600 mb-4">PDF with charts, tables, and insights</p>
            <button class="w-full bg-neutral-900 text-white px-4 py-2 rounded-lg hover:bg-neutral-800 transition-colors">
              <i class="fa-solid fa-download mr-2"></i>
              Generate Report
            </button>
          </div>
        </div>

        <div class="border-t pt-8">
          <div class="flex items-center justify-between">
            <div>
              <h4 class="text-lg text-neutral-900">Project Summary</h4>
              <p class="text-sm text-neutral-600 mt-1">3 charts generated • Based on 3 data tables • Ready for publication</p>
            </div>
            <div class="flex items-center space-x-4">
              <button class="px-6 py-3 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors">
                <i class="fa-solid fa-save mr-2"></i>
                Save Project
              </button>
              <button class="px-6 py-3 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors">
                <i class="fa-solid fa-share mr-2"></i>
                Share Project
              </button>
              <button class="bg-neutral-900 text-white px-6 py-3 rounded-lg hover:bg-neutral-800 transition-colors">
                <i class="fa-solid fa-plus mr-2"></i>
                Create New Project
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</main>

<footer id="footer" class="bg-white border-t">
  <div class="max-w-7xl mx-auto px-6 py-12">
    <div class="grid grid-cols-5 gap-8">
      <div class="col-span-2">
        <div class="flex items-center space-x-3 mb-6">
          <div class="w-10 h-10 bg-neutral-800 rounded-lg flex items-center justify-center">
            <i class="fa-solid fa-chart-line text-white text-lg"></i>
          </div>
          <div>
            <h1 class="text-xl text-neutral-900">ChartGen AI</h1>
            <p class="text-sm text-neutral-500">Scientific Chart Generation Platform</p>
          </div>
        </div>
        <p class="text-neutral-600 mb-6">
          Transforming research papers into beautiful, publication-ready charts with the power of artificial intelligence.
        </p>
        <div class="flex space-x-4">
          <span class="w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center text-neutral-600 hover:bg-neutral-200 cursor-pointer">
            <i class="fa-brands fa-twitter"></i>
          </span>
          <span class="w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center text-neutral-600 hover:bg-neutral-200 cursor-pointer">
            <i class="fa-brands fa-linkedin"></i>
          </span>
          <span class="w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center text-neutral-600 hover:bg-neutral-200 cursor-pointer">
            <i class="fa-brands fa-github"></i>
          </span>
        </div>
      </div>

      <div>
        <h3 class="text-neutral-900 mb-4">Product</h3>
        <ul class="space-y-3">
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">Features</span></li>
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">Pricing</span></li>
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">Templates</span></li>
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">API</span></li>
        </ul>
      </div>

      <div>
        <h3 class="text-neutral-900 mb-4">Resources</h3>
        <ul class="space-y-3">
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">Documentation</span></li>
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">Tutorials</span></li>
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">Blog</span></li>
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">Case Studies</span></li>
        </ul>
      </div>

      <div>
        <h3 class="text-neutral-900 mb-4">Company</h3>
        <ul class="space-y-3">
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">About</span></li>
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">Careers</span></li>
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">Contact</span></li>
          <li><span class="text-neutral-600 hover:text-neutral-900 cursor-pointer">Privacy</span></li>
        </ul>
      </div>
    </div>

    <div class="border-t mt-12 pt-8 flex items-center justify-between">
      <p class="text-neutral-500">© 2025 ChartGen AI. All rights reserved.</p>
      <div class="flex items-center space-x-6">
        <span class="text-neutral-500 hover:text-neutral-700 text-sm cursor-pointer">Terms of Service</span>
        <span class="text-neutral-500 hover:text-neutral-700 text-sm cursor-pointer">Privacy Policy</span>
        <span class="text-neutral-500 hover:text-neutral-700 text-sm cursor-pointer">Cookie Policy</span>
      </div>
    </div>
  </div>
</footer>


<script>
(()=>{
  const removeById=(id)=>{const el=document.getElementById(id); if(el) el.remove();};
  let paper=null, prefs=null;
  try{ paper=JSON.parse(localStorage.getItem('paperData')||'null'); }catch{}
  try{ prefs=JSON.parse(localStorage.getItem('userPreferences')||'null'); }catch{}
  if(!paper){ try{ window.location.href='/analysis.html'; }catch{} return; }
  const parsePipeTable=(md)=>{
    const lines=String(md||'').split(/\r?\n/).map(s=>s.trim());
    const first=lines.findIndex(l=>/^\|.+\|$/.test(l));
    if(first<0||first+1>=lines.length) return {headers:[],rows:[]};
    const sep=lines[first+1]; if(!/^\|?\s*:?-{3,}.*\|$/.test(sep)) return {headers:[],rows:[]};
    let headers=lines[first].slice(1,-1).split('|').map(s=>s.trim());
    const rows=[]; for(let i=first+2;i<lines.length;i++){const l=lines[i]; if(!/^\|.*\|$/.test(l)) break; rows.push(l.slice(1,-1).split('|').map(s=>s.trim()));}
    headers=headers.map(h=>/^col\d+(?:_\d+)?$/i.test(h)?'':h);
    return {headers,rows};
  };
  const pickSchemas=()=> Array.isArray(paper.table_schemas)&&paper.table_schemas.length?paper.table_schemas:
    (paper.tables||[]).map(md=>{const p=parsePipeTable(md); return p.headers;});

  // 检查是否使用备用策略
  const useDirectStrategy = localStorage.getItem('useDirectStrategy') === 'true';

  const body={
    summary_text: paper.summary||'',
    table_schemas: pickSchemas(),
    table_conclusions: paper.table_conclusions||[],
    table_datas: (paper.tables||[]).map(md=>parsePipeTable(md)),
    language: 'zh',
    preferences_text: (prefs&&prefs.text)||'',
    use_direct_strategy: useDirectStrategy
  };
  console.groupCollapsed('[result] request /api/flow');
  console.log('body:', body);
  console.log('strategy:', useDirectStrategy ? 'direct' : 'three-stage');
  console.groupEnd();
  fetch('/api/flow',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)})
    .then(async r=>{ if(!r.ok){ let msg=`HTTP ${r.status}`; try{ const e=await r.json(); if(e&&e.error) msg=e.error; }catch{} console.error('[result] /api/flow error response', r.status); throw new Error(msg);} return r.json(); })
    .then(flow=>{ console.groupCollapsed('[result] /api/flow success'); console.log('flow:', flow); console.groupEnd();
      if(!flow||!Array.isArray(flow.per_table_plans)) return;
      removeById('charts-overview-section'); removeById('chart-1-section'); removeById('chart-2-section'); removeById('chart-3-section');
      try{ const t=flow&&flow.theme_style; if(t){ if(t.background) document.body.style.background=t.background; if(t.font_family) document.body.style.fontFamily=t.font_family; if(t.font_size) document.documentElement.style.fontSize=(t.font_size|0)+'px'; } }catch{}
      const root=document.createElement('div'); root.className='max-w-7xl mx-auto px-6 space-y-10 py-8';
      const tables = Array.isArray(paper.tables)?paper.tables:[];
      const toColor=(i)=> ['#2563eb','#16a34a','#f59e0b','#ef4444','#6b7280'][i%5];
      flow.per_table_plans.forEach((plan,i)=>{
        const parsed=parsePipeTable(tables[i]||'');
        console.groupCollapsed(`[result] table_${i+1} plan & parsed table`);
        console.log('plan:', plan);
        console.log('headers:', parsed.headers);
        console.log('rows sample:', parsed.rows.slice(0,5));
        console.groupEnd();
        const sec=document.createElement('section'); sec.className='py-6';
        const card=document.createElement('div'); card.className='bg-white rounded-xl border shadow-sm';
        const head=document.createElement('div'); head.className='border-b p-6 flex items-center justify-between';
        head.innerHTML=`<div class=\"flex items-center space-x-4\"><div class=\"w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center\"><i class=\"fa-solid fa-chart-column text-neutral-600\"></i></div><div><h2 class=\"text-2xl text-neutral-900\">${String(plan.pitch||'自动生成图表方案')}</h2><p class=\"text-sm text-neutral-600 mt-1\">表 ${(plan.table_index)||i+1} • 类型：${plan.chart_type||'-'}</p></div></div>`;
        const body=document.createElement('div'); body.className='p-8';
        const grid=document.createElement('div'); grid.className='grid grid-cols-2 gap-12';
        const left=document.createElement('div'); left.innerHTML=`<h3 class=\"text-lg text-neutral-900 mb-6\">Generated Chart</h3><div class=\"bg-neutral-50 rounded-xl p-6 border overflow-hidden\"><div id=\"chart-${i}\" class=\"w-full\" style=\"max-width: 100%; overflow: hidden;\"></div></div>`;
        const right=document.createElement('div'); right.innerHTML=`<h3 class=\"text-lg text-neutral-900 mb-6\">Source Data Table</h3>`;
        const tableWrap=document.createElement('div'); tableWrap.className='border border-neutral-200 rounded-xl overflow-hidden';
        const tableHead=document.createElement('div'); tableHead.className='bg-neutral-50 p-4 border-b'; tableHead.innerHTML=`<h4 class=\"text-sm text-neutral-900\">表 ${i+1}</h4>`;
        const tableBox=document.createElement('div'); tableBox.className='overflow-x-auto';
        const tbl=document.createElement('table'); tbl.className='w-full text-sm';
        const thead=document.createElement('thead'); thead.className='bg-neutral-50';
        const trh=document.createElement('tr'); trh.className='border-b border-neutral-200';
        parsed.headers.forEach(h=>{const th=document.createElement('th'); th.className='text-left py-3 px-4 text-neutral-900'; th.textContent=h||''; trh.appendChild(th);});
        thead.appendChild(trh);
        const tbody=document.createElement('tbody'); tbody.className='text-neutral-700';
        parsed.rows.slice(0,8).forEach(r=>{const tr=document.createElement('tr'); tr.className='border-b border-neutral-100'; r.forEach((c,ci)=>{const td=document.createElement('td'); td.className=(ci? 'text-right ':'')+'py-3 px-4'; td.textContent=c; tr.appendChild(td);}); tbody.appendChild(tr);});
        tbl.appendChild(thead); tbl.appendChild(tbody); tableBox.appendChild(tbl);
        tableWrap.appendChild(tableHead); tableWrap.appendChild(tableBox); right.appendChild(tableWrap);
        grid.appendChild(left); grid.appendChild(right); body.appendChild(grid);
        card.appendChild(head); card.appendChild(body); sec.appendChild(card); root.appendChild(sec);
        setTimeout(()=>{
          try{
            const map=plan.data_mapping||{}; const xCol=map.x; const yCol=map.y; const hueCol=map.hue;

            // 数据映射验证
            if(!xCol || !yCol){
              console.error(`[result] table_${i+1} 缺少必要的数据映射字段 (x: ${xCol}, y: ${yCol})`);
              throw new Error('数据映射缺少 x 或 y 字段');
            }

            const xi=parsed.headers.findIndex(h=>h===xCol);
            const yi=parsed.headers.findIndex(h=>h===yCol);
            const hi=hueCol?parsed.headers.findIndex(h=>h===hueCol):-1;

            console.groupCollapsed(`[result] table_${i+1} mapping & indices`);
            console.log('xCol:', xCol, 'yCol:', yCol, 'hueCol:', hueCol);
            console.log('xi:', xi, 'yi:', yi, 'hi:', hi);
            console.log('headers:', parsed.headers);
            console.groupEnd();

            // 验证列索引
            if(xi<0){
              console.error(`[result] table_${i+1} 找不到 x 列 "${xCol}" 在表头中`);
              throw new Error(`找不到列 "${xCol}"`);
            }
            if(yi<0){
              console.error(`[result] table_${i+1} 找不到 y 列 "${yCol}" 在表头中`);
              throw new Error(`找不到列 "${yCol}"`);
            }

            const rows=parsed.rows.filter(r=>r[xi]!=null && r[yi]!=null);
            console.log(`[result] table_${i+1} 有效行数: ${rows.length}/${parsed.rows.length}`);

            if(rows.length===0){
              console.warn(`[result] table_${i+1} 没有有效数据行`);
              throw new Error('没有有效数据');
            }

            const chartEl=document.querySelector(`#chart-${i}`);
            if(chartEl){
              const perSpecs = (flow && flow.render && Array.isArray(flow.render.per_table_specs)) ? flow.render.per_table_specs : [];
              const entry = perSpecs.find(e => (e.table_index||i+1)===(plan.table_index||i+1));

              if(!entry || !entry.spec) {
                console.error(`[result] table_${i+1} 缺少 vega-lite spec`);
                throw new Error('缺少图表规格');
              }

              // 克隆 spec
              const spec = JSON.parse(JSON.stringify(entry.spec));

              // 检查是否是直接策略（已包含数据）
              const isDirect = spec.data && spec.data.values && Array.isArray(spec.data.values);

              if (!isDirect) {
                // 三阶段策略：需要构建数据值
                const values = rows.map(r => {
                  const rec = {
                    x: r[xi],
                    y: parseFloat(String(r[yi]).replace(/[^0-9.\-]/g,'')) || 0
                  };
                  if(hi>=0 && r[hi]!=null) rec.hue = r[hi];
                  return rec;
                });
                spec.data = { values };
                console.log(`[result] table_${i+1} 使用三阶段策略，构建了 ${values.length} 条数据`);
              } else {
                console.log(`[result] table_${i+1} 使用直接策略，数据已包含在 spec 中 (${spec.data.values.length} 条)`);
              }

              // 确保响应式尺寸
              if (!spec.width || typeof spec.width === 'number') {
                spec.width = 'container';
              }
              if (!spec.height || spec.height > 400) {
                spec.height = 300;
              }

              // 应用主题
              const theme = (flow&&flow.theme_style)||{};
              spec.config = Object.assign({
                background: theme.background || 'white',
                axis: {
                  labelFont: theme.font_family || 'Inter',
                  labelFontSize: (theme.font_size|0) || 12,
                  grid: theme.grid!==false
                },
                legend: {
                  orient: 'top',
                  labelFont: theme.font_family || 'Inter',
                  labelFontSize: (theme.font_size|0) || 12
                }
              }, spec.config||{});

              console.groupCollapsed(`[result] table_${i+1} vega-lite spec & values`);
              console.log('spec:', spec);
              console.log('values sample:', values.slice(0,10));
              console.groupEnd();

              // 渲染图表
              window.vegaEmbed(chartEl, spec, {
                actions: false,
                renderer: 'svg',
                config: {
                  autosize: {
                    type: 'fit',
                    contains: 'padding'
                  }
                }
              }).then(res=>{
                console.log(`[result] table_${i+1} vega 渲染成功`, res);
              }).catch(err=>{
                console.error(`[result] table_${i+1} vega 渲染失败`, err);
                chartEl.innerHTML = '<div class="text-center text-red-600"><i class="fa-solid fa-exclamation-triangle text-2xl mb-2"></i><p>图表渲染失败</p><p class="text-sm mt-1">'+String(err.message||err)+'</p></div>';
              });
            }
          }catch(err){
            console.error(`[result] table_${i+1} render error`, err);
            const chartEl=document.querySelector(`#chart-${i}`);
            if(chartEl){
              chartEl.innerHTML = '<div class="text-center text-red-600"><i class="fa-solid fa-exclamation-triangle text-2xl mb-2"></i><p>图表生成失败</p><p class="text-sm mt-1">'+String(err.message||err)+'</p></div>';
            }
          }
        },0);
      });
      const anchor=document.querySelector('main')||document.body; anchor.insertBefore(root, anchor.firstChild);
    })
    .catch((err)=>{ try{ console.error(err); const warn=document.createElement('div'); warn.className='max-w-3xl mx-auto mt-8 p-4 bg-red-50 text-red-700 border border-red-200 rounded'; warn.textContent='生成流程失败：'+String(err); const anchor=document.querySelector('main')||document.body; anchor.insertBefore(warn, anchor.firstChild);}catch(e){} });
})();
</script>

          </body></html>